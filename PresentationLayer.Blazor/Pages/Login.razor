@layout ClearLayout
@page "/login"
@inherits LoginModel

@using System.ComponentModel.DataAnnotations
@using PresentationLayer.Blazor.Models

<EditForm Model="LoginData" OnValidSubmit="OnLoginClick">
    <DataAnnotationsValidator />
    <MudStack Justify="Justify.Center" AlignItems="AlignItems.Center" Style="height: 100vh">
        <MudCard Elevation="10" Width="25em">
            <MudCardHeader>
                <MudText Typo="Typo.h4">Sign in</MudText>

            </MudCardHeader>
            @if (!_authenticated)
            {
                <MudAlert Severity="Severity.Error" Square="true" Visible="_isAuthenticated">
                    Incorrect login or password.
                </MudAlert>
            }
            <MudCardContent>
                <MudTextField Label="Login" HelperText="Enter your login"
                              @bind-Value="LoginData.Login" For="@(() => LoginData.Login)" />
                <MudTextField Label="Password" HelperText="Enter the password" Class="mt-3"
                              @bind-Value="LoginData.Password" For="@(() => LoginData.Password)" InputType="InputType.Password" />
            </MudCardContent>
            <MudCardActions>
                <MudText Align="Align.Start">
                    <MudLink Href="/registration">Sign up</MudLink>
                </MudText>
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary"
                           Class="ml-auto" Disabled="_isLoginButtonDisabled">
                    @_loginButtonText
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudStack>
</EditForm>
